<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Finish</title>
</head>
<link rel="stylesheet" , href="finishStyle.css">

<body id="body">
    <p id="points">

    </p>
    <h1>Right Choices Percentage</h1>

    <div id="myProgress">
        <div id="myBar">0%</div>
    </div>

    <br>

    <input id="again" type="button" value="try again!" onclick="javascript : again()">


</body>


<script>
    let points =parseInt(sessionStorage.getItem("totalPoint"));
    let choices = parseInt(sessionStorage.getItem("totalChoices"));
    let totalPoint = document.createTextNode('Score : ' + points);
    let totalChoices = document.createTextNode(choices);
    document.getElementById('points').appendChild(totalPoint);
    console.log(typeof choices);
    console.log((points/choices)*100);

    function again(){
        window.location = './game.html';
    }

    var i = 0;
    function move() {
        if (i == 0) {
            i = 1;
            var elem = document.getElementById("myBar");
            var width = 10;
            var id = setInterval(frame, 10);
            function frame() {
                if (width >= (points/choices)*100) {
                    clearInterval(id);
                    i = 0;
                } else {
                    width++;
                    elem.style.width = width + "%";
                    elem.innerHTML = width  + "%";
                }
            }
        }
    }
    move();
</script>
</html>